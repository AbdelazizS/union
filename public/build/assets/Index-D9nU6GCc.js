import{r as o,j as e,$ as H,m as d}from"./app-D5zgOKAD.js";import{t as a}from"./index-CDOhrpKr.js";import{B as N}from"./index-C8-8ZKTM.js";import{D as R}from"./data-table-xuiH6-jF.js";import{columns as U}from"./columns-aB0AiKns.js";import{u as D}from"./form-B0NGfjOj.js";import{s as O}from"./zod-CTB78kiI.js";import{o as G,b as J,n as M,s as v}from"./index-DWbN24nP.js";import{D as u,a as W,b as p,c as h,d as x,e as F,f as X}from"./dialog-sDPXERkU.js";import{FaqForm as Q}from"./FaqForm-DOlKvm_Z.js";import{L as Y}from"./AdminLayout-BQ9sENZH.js";import{B as q}from"./badge-DAUpYQro.js";import{P as Z}from"./plus-DHVrmD6B.js";import"./index-BBAzO_4d.js";import"./table-C18x9kzE.js";import"./input-D5FKwQjB.js";import"./select-DgOef9zO.js";import"./index-BSVezLny.js";import"./index-Crc4BVh8.js";import"./Combination-Cmb1a147.js";import"./tslib.es6-CmEaCU22.js";import"./index-BB6OtDRK.js";import"./index-DNxp1Wi1.js";import"./index-BKYgjeKX.js";import"./index-CrEWOBzh.js";import"./chevron-down-CztE_ilu.js";import"./createLucideIcon-AWgR876W.js";import"./check-BhB20Pym.js";import"./dropdown-menu-CixTnASt.js";import"./index-Cuq-Mmvq.js";import"./chevron-right-DKEmXFr0.js";import"./ellipsis-D87pnp6L.js";import"./eye-nL3GmjNe.js";import"./pencil-DUvomj0i.js";import"./trash-Dn0Y1l6S.js";import"./label-BHpa9F8K.js";import"./index-B6dbISNz.js";import"./x-DkObbUL-.js";import"./switch-CQMIwMOV.js";import"./textarea-rFmGb7jf.js";import"./separator-ZBq7OQqG.js";import"./sheet-CpllKNoK.js";import"./layers-ai9ES5Yn.js";import"./calendar-CP_I-VWs.js";import"./circle-help-DHWhEvao.js";import"./file-text-CyaKJaEx.js";import"./user-Ch48qi0I.js";const C=G({category:v().min(1,"Category is required"),question:v().min(5,"Question must be at least 5 characters"),answer:v().min(10,"Answer must be at least 10 characters"),sort_order:M().min(0,"Sort order must be positive"),is_active:J().default(!0)}),n={category:"",question:"",answer:"",sort_order:0,is_active:!0};function Ge({faqs:E,categories:f}){const[_,S]=o.useState(!1),[T,j]=o.useState(!1),[B,l]=o.useState(!1),[V,A]=o.useState(!1),[k,g]=o.useState(null),[i,y]=o.useState(null),[c,r]=o.useState(!1),w=D({resolver:O(C),defaultValues:n}),m=D({resolver:O(C),defaultValues:n}),b=()=>{d.reload({only:["faqs"]})},$=async s=>{r(!0);try{d.post("/admin/faqs",s,{onSuccess:()=>{a.success("FAQ created successfully"),S(!1),w.reset(n),b()},onError:t=>{console.log(t),a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},I=async s=>{r(!0);try{d.put(`/admin/faqs/${k.id}`,s,{onSuccess:()=>{a.success("FAQ updated successfully"),j(!1),m.reset(n),g(null),b()},onError:t=>{console.log(t),a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},K=s=>{g(s),m.reset({...s,sort_order:Number(s.sort_order)}),j(!0)},L=async s=>{r(!0);try{d.delete(route("admin.faqs.destroy",s.id),{onSuccess:()=>{a.success("FAQ deleted successfully"),l(!1),y(null),b()},onError:t=>{a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},P=s=>{y(s),A(!0)},z=s=>{y(s),l(!0)};return e.jsxs(Y,{children:[e.jsx(H,{title:"FAQs"}),e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"FAQs"}),e.jsxs(u,{open:_,onOpenChange:s=>{s||w.reset(n),S(s)},children:[e.jsx(W,{asChild:!0,children:e.jsxs(N,{children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Add FAQ"]})}),e.jsxs(p,{className:"max-w-2xl",children:[e.jsxs(h,{children:[e.jsx(x,{children:"Add New FAQ"}),e.jsx(F,{children:"Fill in the details to create a new FAQ."})]}),e.jsx(Q,{form:w,onSubmit:$,isSubmitting:c,categories:f})]})]}),e.jsx(u,{open:T,onOpenChange:s=>{s||(m.reset(n),g(null)),j(s)},children:e.jsxs(p,{className:"max-w-2xl",children:[e.jsxs(h,{children:[e.jsx(x,{children:"Edit FAQ"}),e.jsx(F,{children:"Update the details of this FAQ."})]}),e.jsx(Q,{form:m,onSubmit:I,isSubmitting:c,categories:f})]})})]}),e.jsx(R,{columns:U(K,z,P),data:E,searchKey:"question",filterKey:"category",filterOptions:Object.keys(f).map(s=>({label:s,value:s}))}),e.jsx(u,{open:B,onOpenChange:l,children:e.jsxs(p,{children:[e.jsxs(h,{children:[e.jsx(x,{children:"Delete FAQ"}),e.jsx(F,{children:"Are you sure you want to delete this FAQ? This action cannot be undone."})]}),e.jsxs(X,{children:[e.jsx(N,{variant:"outline",onClick:()=>l(!1),disabled:c,children:"Cancel"}),e.jsx(N,{variant:"destructive",onClick:()=>L(i),disabled:c,children:"Delete"})]})]})}),e.jsx(u,{open:V,onOpenChange:A,children:e.jsxs(p,{className:"max-w-2xl",children:[e.jsx(h,{children:e.jsx(x,{children:"View FAQ Details"})}),i&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Category"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(q,{variant:"outline",className:"capitalize text-base py-1.5",children:i.category})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Question"}),e.jsx("p",{className:"text-base font-medium",children:i.question})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Answer"}),e.jsx("div",{className:"rounded-md bg-muted p-4",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:i.answer})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Sort Order"}),e.jsx("p",{className:"text-base font-medium",children:i.sort_order})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Status"}),e.jsx(q,{variant:i.is_active?"success":"secondary",className:"text-base py-1",children:i.is_active?"Active":"Inactive"})]})]})]})})]})})]})]})}export{Ge as default};
