import{r as n,j as e,$ as H,m as d}from"./app-DN1qyw_4.js";import{t as a}from"./index-COa0dWTm.js";import{B as b}from"./index-LX2bqK-N.js";import{D as R}from"./data-table-lNLW6wDK.js";import{columns as U}from"./columns-gxXm_8sE.js";import{u as D}from"./index.esm-BKbCLyPq.js";import{s as O,o as G,f as J,n as M,a as v}from"./index-BezgtxjW.js";import{D as u,a as W,b as p,c as h,d as x,e as F,f as X}from"./dialog-CY5EnKOC.js";import{FaqForm as Q}from"./FaqForm-Cfxxyc_v.js";import{L as Y}from"./AdminLayout-CZ0FKSeN.js";import{B as q}from"./badge-uQ6I-SGo.js";import{P as Z}from"./plus-Bp36QGIZ.js";import"./index-BbdZmysQ.js";import"./table-BzJnXkzV.js";import"./input-DGoI5Joj.js";import"./select-FtBAXfob.js";import"./index-BMWwzzsh.js";import"./index-BAOtmrvp.js";import"./Combination-CFYBKmqt.js";import"./tslib.es6-BUas5LQb.js";import"./index-DHYjMWsS.js";import"./index-RM6Jqcin.js";import"./index-DN810jkT.js";import"./index-qC52FuWJ.js";import"./chevron-down-DHOMMINn.js";import"./createLucideIcon-BpMd3PhH.js";import"./check-BX_ytt3u.js";import"./dropdown-menu-Dup2U6KE.js";import"./index-D7fmTsiv.js";import"./chevron-right-DqXEnUok.js";import"./ellipsis-BM26qcpv.js";import"./eye-D4W9MdIN.js";import"./pencil-ClhZq3Pc.js";import"./trash-C4uD6DVN.js";import"./index-Be8rxKK8.js";import"./x-w-3jbt9P.js";import"./form-CdwVkoaf.js";import"./label-tZuXtweX.js";import"./switch-D54_V_9Y.js";import"./textarea-BY2Wfk79.js";import"./separator-CvwyiO9a.js";import"./sheet-mSlUcbMw.js";import"./calendar-CNUueBHR.js";import"./message-square-2aVn-Bt6.js";import"./circle-help-dDNQ1wQ3.js";import"./file-text-D1ogXrnk.js";import"./user-CNfi-Wmw.js";const C=G({category:v().min(1,"Category is required"),question:v().min(5,"Question must be at least 5 characters"),answer:v().min(10,"Answer must be at least 10 characters"),sort_order:M().min(0,"Sort order must be positive"),is_active:J().default(!0)}),o={category:"",question:"",answer:"",sort_order:0,is_active:!0};function Ge({faqs:E,categories:f}){const[_,S]=n.useState(!1),[T,j]=n.useState(!1),[B,l]=n.useState(!1),[V,A]=n.useState(!1),[k,g]=n.useState(null),[i,y]=n.useState(null),[c,r]=n.useState(!1),w=D({resolver:O(C),defaultValues:o}),m=D({resolver:O(C),defaultValues:o}),N=()=>{d.reload({only:["faqs"]})},$=async s=>{r(!0);try{d.post("/admin/faqs",s,{onSuccess:()=>{a.success("FAQ created successfully"),S(!1),w.reset(o),N()},onError:t=>{console.log(t),a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},I=async s=>{r(!0);try{d.put(`/admin/faqs/${k.id}`,s,{onSuccess:()=>{a.success("FAQ updated successfully"),j(!1),m.reset(o),g(null),N()},onError:t=>{console.log(t),a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},K=s=>{g(s),m.reset({...s,sort_order:Number(s.sort_order)}),j(!0)},L=async s=>{r(!0);try{d.delete(route("admin.faqs.destroy",s.id),{onSuccess:()=>{a.success("FAQ deleted successfully"),l(!1),y(null),N()},onError:t=>{a.error(t.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{a.error("Something went wrong"),r(!1)}},P=s=>{y(s),A(!0)},z=s=>{y(s),l(!0)};return e.jsxs(Y,{children:[e.jsx(H,{title:"FAQs"}),e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"FAQs"}),e.jsxs(u,{open:_,onOpenChange:s=>{s||w.reset(o),S(s)},children:[e.jsx(W,{asChild:!0,children:e.jsxs(b,{children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Add FAQ"]})}),e.jsxs(p,{className:"max-w-2xl",children:[e.jsxs(h,{children:[e.jsx(x,{children:"Add New FAQ"}),e.jsx(F,{children:"Fill in the details to create a new FAQ."})]}),e.jsx(Q,{form:w,onSubmit:$,isSubmitting:c,categories:f})]})]}),e.jsx(u,{open:T,onOpenChange:s=>{s||(m.reset(o),g(null)),j(s)},children:e.jsxs(p,{className:"max-w-2xl",children:[e.jsxs(h,{children:[e.jsx(x,{children:"Edit FAQ"}),e.jsx(F,{children:"Update the details of this FAQ."})]}),e.jsx(Q,{form:m,onSubmit:I,isSubmitting:c,categories:f})]})})]}),e.jsx(R,{columns:U(K,z,P),data:E,searchKey:"question",filterKey:"category",filterOptions:Object.keys(f).map(s=>({label:s,value:s}))}),e.jsx(u,{open:B,onOpenChange:l,children:e.jsxs(p,{children:[e.jsxs(h,{children:[e.jsx(x,{children:"Delete FAQ"}),e.jsx(F,{children:"Are you sure you want to delete this FAQ? This action cannot be undone."})]}),e.jsxs(X,{children:[e.jsx(b,{variant:"outline",onClick:()=>l(!1),disabled:c,children:"Cancel"}),e.jsx(b,{variant:"destructive",onClick:()=>L(i),disabled:c,children:"Delete"})]})]})}),e.jsx(u,{open:V,onOpenChange:A,children:e.jsxs(p,{className:"max-w-2xl",children:[e.jsx(h,{children:e.jsx(x,{children:"View FAQ Details"})}),i&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Category"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(q,{variant:"outline",className:"capitalize text-base py-1.5",children:i.category})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Question"}),e.jsx("p",{className:"text-base font-medium",children:i.question})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Answer"}),e.jsx("div",{className:"rounded-md bg-muted p-4",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:i.answer})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Sort Order"}),e.jsx("p",{className:"text-base font-medium",children:i.sort_order})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium leading-none text-muted-foreground",children:"Status"}),e.jsx(q,{variant:i.is_active?"success":"secondary",className:"text-base py-1",children:i.is_active?"Active":"Inactive"})]})]})]})})]})})]})]})}export{Ge as default};
