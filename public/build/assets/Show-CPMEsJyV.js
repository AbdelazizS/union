import{j as e,$ as f,m as N}from"./app-D5zgOKAD.js";import{t as n}from"./index-CDOhrpKr.js";import{B as l}from"./index-C8-8ZKTM.js";import{C as t,b as i,c,a}from"./card-BKGLJ8p-.js";import{B as u}from"./badge-DAUpYQro.js";import{S as v}from"./separator-ZBq7OQqG.js";import{L as p}from"./AdminLayout-BQ9sENZH.js";import{C as y}from"./calendar-CP_I-VWs.js";import{U as _}from"./user-Ch48qi0I.js";import{M as C,P as w,a as A}from"./phone-DJg7fU2z.js";import{f as B}from"./format-SmSpYad1.js";import"./index-BBAzO_4d.js";import"./input-D5FKwQjB.js";import"./sheet-CpllKNoK.js";import"./index-B6dbISNz.js";import"./index-BSVezLny.js";import"./Combination-Cmb1a147.js";import"./tslib.es6-CmEaCU22.js";import"./index-Cuq-Mmvq.js";import"./x-DkObbUL-.js";import"./createLucideIcon-AWgR876W.js";import"./index-BB6OtDRK.js";import"./index-DNxp1Wi1.js";import"./index-CrEWOBzh.js";import"./layers-ai9ES5Yn.js";import"./circle-help-DHWhEvao.js";import"./file-text-CyaKJaEx.js";import"./dropdown-menu-CixTnASt.js";import"./index-Crc4BVh8.js";import"./chevron-right-DKEmXFr0.js";import"./check-BhB20Pym.js";function te({booking:s}){var m,x,h,o;if(console.log(s),!s)return e.jsx(p,{children:e.jsx("div",{className:"p-4",children:e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Booking not found"})})});const d=async r=>{try{await N.post(route(`admin.bookings.${r}`,s.id),{},{onSuccess:()=>{n.success(`Booking ${r} successfully`)},onError:()=>{n.error(`Failed to ${r} booking`)}})}catch{n.error("An error occurred while updating the booking status")}};return e.jsxs(p,{children:[e.jsx(f,{title:`Booking ${s.booking_number||""}`}),e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight",children:["Booking ",s.booking_number]}),e.jsx("p",{className:"text-muted-foreground",children:"View booking details"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="pending"&&e.jsx(l,{onClick:()=>d("confirm"),children:"Confirm Booking"}),s.status==="confirmed"&&e.jsx(l,{onClick:()=>d("complete"),children:"Mark as Completed"}),["pending","confirmed"].includes(s.status)&&e.jsx(l,{variant:"destructive",onClick:()=>d("cancel"),children:"Cancel Booking"})]})]}),e.jsxs("div",{className:"p-4 mt-8 grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(c,{children:"Service Details"})}),e.jsxs(a,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Service"}),e.jsx("p",{children:(m=s.service)==null?void 0:m.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Category"}),e.jsx("p",{children:((h=(x=s.service)==null?void 0:x.category)==null?void 0:h.name)||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Date"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),s.booking_date?B(new Date(s.booking_date),"PPP"):"N/A"]})]}),e.jsx("div",{children:e.jsx("div",{className:"flex items-center text-muted-foreground"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Frequency"}),e.jsx(u,{variant:"outline",children:s.frequency?s.frequency.charAt(0).toUpperCase()+s.frequency.slice(1).replace("_"," "):"N/A"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Status"}),e.jsx(u,{variant:s.status==="completed"?"success":s.status==="cancelled"?"destructive":s.status==="confirmed"?"default":"secondary",children:s.status?s.status.charAt(0).toUpperCase()+s.status.slice(1):"N/A"})]})]})]}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(c,{children:"Customer Information"})}),e.jsxs(a,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Name"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),s.customer_name||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),s.customer_email||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Phone"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),s.customer_phone||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Address"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),s.customer_address||"N/A"]})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(c,{children:"Price Breakdown"})}),e.jsx(a,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Base Amount:"}),e.jsxs("span",{children:["$",s.base_amount||0]})]}),(s.frequency_discount||0)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Frequency Discount:"}),e.jsxs("span",{children:["-£",s.frequency_discount]})]}),(s.bulk_discount||0)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Bulk Discount:"}),e.jsxs("span",{children:["-£",s.bulk_discount]})]}),s.coupon&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Coupon (",s.coupon.code,"):"]}),e.jsxs("span",{children:["-£",s.coupon_discount||0]})]}),(s.special_period_adjustment||0)!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Special Period Adjustment:"}),e.jsxs("span",{className:s.special_period_adjustment>0?"text-red-600":"text-green-600",children:[s.special_period_adjustment>0?"+":"-","£",Math.abs(s.special_period_adjustment)]})]}),e.jsx(v,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Final Amount:"}),e.jsxs("span",{children:["£",s.final_amount||0]})]})]})})]}),s.notes&&e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(c,{children:"Notes"})}),e.jsx(a,{children:e.jsx("p",{className:"text-muted-foreground",children:s.notes})})]}),((o=s.additional_services)==null?void 0:o.length)>0&&e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(c,{children:"Additional Services"})}),e.jsx(a,{children:e.jsx("ul",{className:"list-inside list-disc space-y-2",children:s.additional_services.map((r,j)=>e.jsx("li",{className:"text-muted-foreground",children:r},j))})})]})]})]})]})}export{te as default};
