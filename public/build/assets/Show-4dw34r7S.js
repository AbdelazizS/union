import{j as e,$ as N,m as j}from"./app-DN1qyw_4.js";import{t as l}from"./index-COa0dWTm.js";import{B as d}from"./index-LX2bqK-N.js";import{C as t,b as i,c as a,a as c}from"./card-B1emr2ze.js";import{B as p}from"./badge-uQ6I-SGo.js";import{S as v}from"./separator-CvwyiO9a.js";import{L as f}from"./AdminLayout-CZ0FKSeN.js";import{C as _}from"./calendar-CNUueBHR.js";import{C as y}from"./clock-Dctz3bie.js";import{U as C}from"./user-CNfi-Wmw.js";import{M as A,P as w,a as B}from"./phone-n94bDAZv.js";import{f as $}from"./format-SmSpYad1.js";import"./index-BbdZmysQ.js";import"./input-DGoI5Joj.js";import"./sheet-mSlUcbMw.js";import"./index-Be8rxKK8.js";import"./index-BMWwzzsh.js";import"./Combination-CFYBKmqt.js";import"./tslib.es6-BUas5LQb.js";import"./index-D7fmTsiv.js";import"./x-w-3jbt9P.js";import"./createLucideIcon-BpMd3PhH.js";import"./index-DHYjMWsS.js";import"./index-RM6Jqcin.js";import"./index-qC52FuWJ.js";import"./message-square-2aVn-Bt6.js";import"./circle-help-dDNQ1wQ3.js";import"./file-text-D1ogXrnk.js";import"./dropdown-menu-Dup2U6KE.js";import"./index-BAOtmrvp.js";import"./chevron-right-DqXEnUok.js";import"./check-BX_ytt3u.js";function ae({booking:s}){var m,x,h,o;if(console.log(s),!s)return e.jsx(f,{children:e.jsx("div",{className:"p-4",children:e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Booking not found"})})});const n=async r=>{try{await j.post(route(`admin.bookings.${r}`,s.id),{},{onSuccess:()=>{l.success(`Booking ${r} successfully`)},onError:()=>{l.error(`Failed to ${r} booking`)}})}catch{l.error("An error occurred while updating the booking status")}};return e.jsxs(f,{children:[e.jsx(N,{title:`Booking ${s.booking_number||""}`}),e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight",children:["Booking ",s.booking_number]}),e.jsx("p",{className:"text-muted-foreground",children:"View booking details"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:"outline",onClick:()=>j.visit(route("admin.bookings.edit",s.id)),children:"Edit Booking"}),s.status==="pending"&&e.jsx(d,{onClick:()=>n("confirm"),children:"Confirm Booking"}),s.status==="confirmed"&&e.jsx(d,{onClick:()=>n("complete"),children:"Mark as Completed"}),["pending","confirmed"].includes(s.status)&&e.jsx(d,{variant:"destructive",onClick:()=>n("cancel"),children:"Cancel Booking"})]})]}),e.jsxs("div",{className:"p-4 mt-8 grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(a,{children:"Service Details"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Service"}),e.jsx("p",{children:((m=s.service)==null?void 0:m.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Category"}),e.jsx("p",{children:((h=(x=s.service)==null?void 0:x.category)==null?void 0:h.name)||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Date"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),s.booking_date?$(new Date(s.booking_date),"PPP"):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Duration"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),s.duration_hours?`${s.duration_hours} hours`:"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Frequency"}),e.jsx(p,{variant:"outline",children:s.frequency?s.frequency.charAt(0).toUpperCase()+s.frequency.slice(1).replace("_"," "):"N/A"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Status"}),e.jsx(p,{variant:s.status==="completed"?"success":s.status==="cancelled"?"destructive":s.status==="confirmed"?"default":"secondary",children:s.status?s.status.charAt(0).toUpperCase()+s.status.slice(1):"N/A"})]})]})]}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(a,{children:"Customer Information"})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Name"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),s.customer_name||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),s.customer_email||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Phone"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),s.customer_phone||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Address"}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),s.customer_address||"N/A"]})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(a,{children:"Price Breakdown"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Base Amount:"}),e.jsxs("span",{children:["$",s.base_amount||0]})]}),(s.frequency_discount||0)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Frequency Discount:"}),e.jsxs("span",{children:["-$",s.frequency_discount]})]}),(s.bulk_discount||0)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Bulk Discount:"}),e.jsxs("span",{children:["-$",s.bulk_discount]})]}),s.coupon&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Coupon (",s.coupon.code,"):"]}),e.jsxs("span",{children:["-$",s.coupon_discount||0]})]}),(s.special_period_adjustment||0)!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Special Period Adjustment:"}),e.jsxs("span",{className:s.special_period_adjustment>0?"text-red-600":"text-green-600",children:[s.special_period_adjustment>0?"+":"-","$",Math.abs(s.special_period_adjustment)]})]}),e.jsx(v,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Final Amount:"}),e.jsxs("span",{children:["$",s.final_amount||0]})]})]})})]}),s.notes&&e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(a,{children:"Notes"})}),e.jsx(c,{children:e.jsx("p",{className:"text-muted-foreground",children:s.notes})})]}),((o=s.additional_services)==null?void 0:o.length)>0&&e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(a,{children:"Additional Services"})}),e.jsx(c,{children:e.jsx("ul",{className:"list-inside list-disc space-y-2",children:s.additional_services.map((r,u)=>e.jsx("li",{className:"text-muted-foreground",children:r},u))})})]})]})]})]})}export{ae as default};
