import{r as o,q as B,j as e,$ as H,m as l}from"./app-DN1qyw_4.js";import{t as i}from"./index-COa0dWTm.js";import{B as y}from"./index-LX2bqK-N.js";import{D as I}from"./data-table-lNLW6wDK.js";import{columns as L}from"./columns-Cyac_K9J.js";import{L as P}from"./AdminLayout-CZ0FKSeN.js";import{D as m,a as R,b as d,c as p,d as h,e as u,f as _}from"./dialog-CY5EnKOC.js";import{ServiceCategoryForm as w}from"./ServiceCategoryForm-CXIGrLE9.js";import{P as q}from"./plus-Bp36QGIZ.js";import"./index-BbdZmysQ.js";import"./table-BzJnXkzV.js";import"./input-DGoI5Joj.js";import"./select-FtBAXfob.js";import"./index-BMWwzzsh.js";import"./index-BAOtmrvp.js";import"./Combination-CFYBKmqt.js";import"./tslib.es6-BUas5LQb.js";import"./index-DHYjMWsS.js";import"./index-RM6Jqcin.js";import"./index-DN810jkT.js";import"./index-qC52FuWJ.js";import"./chevron-down-DHOMMINn.js";import"./createLucideIcon-BpMd3PhH.js";import"./check-BX_ytt3u.js";import"./dropdown-menu-Dup2U6KE.js";import"./index-D7fmTsiv.js";import"./chevron-right-DqXEnUok.js";import"./badge-uQ6I-SGo.js";import"./ellipsis-BM26qcpv.js";import"./eye-D4W9MdIN.js";import"./pencil-ClhZq3Pc.js";import"./trash-C4uD6DVN.js";import"./separator-CvwyiO9a.js";import"./sheet-mSlUcbMw.js";import"./index-Be8rxKK8.js";import"./x-w-3jbt9P.js";import"./calendar-CNUueBHR.js";import"./message-square-2aVn-Bt6.js";import"./circle-help-dDNQ1wQ3.js";import"./file-text-D1ogXrnk.js";import"./user-CNfi-Wmw.js";import"./index.esm-BKbCLyPq.js";import"./index-BezgtxjW.js";import"./form-CdwVkoaf.js";import"./label-tZuXtweX.js";import"./textarea-BY2Wfk79.js";import"./switch-D54_V_9Y.js";function Ie({serviceCategories:D}){const[b,S]=o.useState(!1),[O,g]=o.useState(!1),[N,a]=o.useState(!1),[E,v]=o.useState(!1),[C,x]=o.useState(null),[n,j]=o.useState(null),[c,r]=o.useState(!1),{auth:K}=B().props,f=()=>{l.reload({only:["serviceCategories"]})},F=async t=>{r(!0);try{l.post("/admin/service-categories",t,{onSuccess:()=>{i.success("Service category created successfully"),S(!1),f()},onError:s=>{console.log(s),i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},A=async t=>{r(!0);try{l.put(`/admin/service-categories/${C.id}`,t,{onSuccess:()=>{i.success("Service category updated successfully"),g(!1),x(null),f()},onError:s=>{console.log(s),i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},T=t=>{x(t),g(!0)},$=async t=>{r(!0);try{l.delete(route("admin.service-categories.destroy",t.id),{onSuccess:()=>{i.success("Service category deleted successfully"),a(!1),j(null),f()},onError:s=>{i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},V=t=>{j(t),v(!0)},k=t=>{j(t),a(!0)};return e.jsxs(P,{children:[e.jsx(H,{title:"Service Categories"}),e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Service Categories"}),e.jsxs(m,{open:b,onOpenChange:S,children:[e.jsx(R,{asChild:!0,children:e.jsxs(y,{children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Add New Category"}),e.jsx(u,{children:"Fill in the details to create a new service category."})]}),e.jsx(w,{initialData:null,onSubmit:F,isSubmitting:c})]})]}),e.jsx(m,{open:O,onOpenChange:t=>{t||x(null),g(t)},children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Edit Category"}),e.jsx(u,{children:"Update the details of this service category."})]}),e.jsx(w,{initialData:C,onSubmit:A,isSubmitting:c})]})})]}),e.jsx(I,{columns:L(T,k,V),data:D,searchKey:"name"}),e.jsx(m,{open:N,onOpenChange:a,children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Delete Category"}),e.jsx(u,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),e.jsxs(_,{children:[e.jsx(y,{variant:"outline",onClick:()=>a(!1),disabled:c,children:"Cancel"}),e.jsx(y,{variant:"destructive",onClick:()=>$(n),disabled:c,children:"Delete"})]})]})}),e.jsx(m,{open:E,onOpenChange:v,children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Category Details"}),e.jsx(u,{children:"View the complete information about this service category."})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Name"}),e.jsx("p",{children:n.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Hourly Rate"}),e.jsxs("p",{children:["$",Number(n.hourly_rate).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Status"}),e.jsx("p",{children:n.is_active?"Active":"Inactive"})]})]})]})})]})]})}export{Ie as default};
