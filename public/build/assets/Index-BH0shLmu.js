import{r as v,j as e,v as W,$ as X}from"./app-D5zgOKAD.js";import{L as Y}from"./AdminLayout-BQ9sENZH.js";import{u as Z,c as ee,a as T}from"./index-BSVezLny.js";import{g as R,R as te,I as ae}from"./dropdown-menu-CixTnASt.js";import{P as se}from"./index-Cuq-Mmvq.js";import{P as y,c as w,B as S}from"./index-C8-8ZKTM.js";import{u as oe}from"./index-Crc4BVh8.js";import{u as re}from"./Combination-Cmb1a147.js";import{C as ne,b as ie,c as ce,d as le,a as de}from"./card-BKGLJ8p-.js";import{I}from"./input-D5FKwQjB.js";import{L as ue}from"./label-BHpa9F8K.js";import{T as me}from"./textarea-rFmGb7jf.js";import{S as pe}from"./switch-CQMIwMOV.js";import{S as fe,a as ge,b as ve,c as be,d as he}from"./select-DgOef9zO.js";import{U as xe,I as je}from"./image-upload-DB-EMDCR.js";import{t as j}from"./index-CDOhrpKr.js";import{c as E}from"./createLucideIcon-AWgR876W.js";import"./separator-ZBq7OQqG.js";import"./sheet-CpllKNoK.js";import"./index-B6dbISNz.js";import"./x-DkObbUL-.js";import"./index-BB6OtDRK.js";import"./index-BBAzO_4d.js";import"./index-DNxp1Wi1.js";import"./index-CrEWOBzh.js";import"./layers-ai9ES5Yn.js";import"./calendar-CP_I-VWs.js";import"./circle-help-DHWhEvao.js";import"./file-text-CyaKJaEx.js";import"./chevron-right-DKEmXFr0.js";import"./user-Ch48qi0I.js";import"./check-BhB20Pym.js";import"./tslib.es6-CmEaCU22.js";import"./index-BKYgjeKX.js";import"./chevron-down-CztE_ilu.js";import"./index-D8untdAM.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ce=E("download",ye);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Se=E("save",Te);var C="Tabs",[we,ut]=ee(C,[R]),_=R(),[Ne,N]=we(C),F=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,onValueChange:u,defaultValue:f,orientation:c="horizontal",dir:b,activationMode:x="automatic",...g}=a,m=oe(b),[s,h]=Z({prop:d,onChange:u,defaultProp:f??"",caller:C});return e.jsx(Ne,{scope:i,baseId:re(),value:s,onValueChange:h,orientation:c,dir:m,activationMode:x,children:e.jsx(y.div,{dir:m,"data-orientation":c,...g,ref:o})})});F.displayName=C;var M="TabsList",L=v.forwardRef((a,o)=>{const{__scopeTabs:i,loop:d=!0,...u}=a,f=N(M,i),c=_(i);return e.jsx(te,{asChild:!0,...c,orientation:f.orientation,dir:f.dir,loop:d,children:e.jsx(y.div,{role:"tablist","aria-orientation":f.orientation,...u,ref:o})})});L.displayName=M;var P="TabsTrigger",A=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,disabled:u=!1,...f}=a,c=N(P,i),b=_(i),x=k(c.baseId,d),g=$(c.baseId,d),m=d===c.value;return e.jsx(ae,{asChild:!0,...b,focusable:!u,active:m,children:e.jsx(y.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":g,"data-state":m?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:x,...f,ref:o,onMouseDown:T(a.onMouseDown,s=>{!u&&s.button===0&&s.ctrlKey===!1?c.onValueChange(d):s.preventDefault()}),onKeyDown:T(a.onKeyDown,s=>{[" ","Enter"].includes(s.key)&&c.onValueChange(d)}),onFocus:T(a.onFocus,()=>{const s=c.activationMode!=="manual";!m&&!u&&s&&c.onValueChange(d)})})})});A.displayName=P;var D="TabsContent",V=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,forceMount:u,children:f,...c}=a,b=N(D,i),x=k(b.baseId,d),g=$(b.baseId,d),m=d===b.value,s=v.useRef(m);return v.useEffect(()=>{const h=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(se,{present:u||m,children:({present:h})=>e.jsx(y.div,{"data-state":m?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":x,hidden:!h,id:g,tabIndex:0,...c,ref:o,style:{...a.style,animationDuration:s.current?"0s":void 0},children:h&&f})})});V.displayName=D;function k(a,o){return`${a}-trigger-${o}`}function $(a,o){return`${a}-content-${o}`}var Ie=F,O=L,U=A,G=V;const Re=Ie,B=v.forwardRef(({className:a,...o},i)=>e.jsx(O,{ref:i,className:w("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...o}));B.displayName=O.displayName;const H=v.forwardRef(({className:a,...o},i)=>e.jsx(U,{ref:i,className:w("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...o}));H.displayName=U.displayName;const z=v.forwardRef(({className:a,...o},i)=>e.jsx(G,{ref:i,className:w("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o}));z.displayName=G.displayName;function mt({settings:a,structure:o}){const[i,d]=v.useState("general"),[u,f]=v.useState(!1),[c,b]=v.useState(!1),{data:x,setData:g,post:m,processing:s}=W(Object.entries(a).reduce((t,[p,r])=>(Object.entries(r).forEach(([l,n])=>{t[l]=n.value}),t),{})),h=t=>{t.preventDefault(),m(route("admin.settings.update"),{onSuccess:()=>{j.success("Settings updated successfully")},onError:p=>{j.error("Failed to update settings"),console.error(p)}})},K=async()=>{f(!0);try{const p=await(await fetch(route("admin.settings.export"))).blob(),r=window.URL.createObjectURL(p),l=document.createElement("a");l.href=r,l.download="settings.json",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),j.success("Settings exported successfully")}catch(t){j.error("Failed to export settings"),console.error(t)}finally{f(!1)}},q=async t=>{var l;const p=(l=t.target.files)==null?void 0:l[0];if(!p)return;b(!0);const r=new FormData;r.append("settings",p);try{if(!(await fetch(route("admin.settings.import"),{method:"POST",body:r})).ok)throw new Error("Import failed");j.success("Settings imported successfully"),window.location.reload()}catch(n){j.error("Failed to import settings"),console.error(n)}finally{b(!1)}},J=(t,p)=>{const r=x[t],l={id:t,disabled:s,"aria-label":t.split("_").join(" ")};switch(p.type){case"text":case"email":case"url":return e.jsx(I,{...l,type:p.type,value:r||"",onChange:n=>g(t,n.target.value)});case"textarea":return e.jsx(me,{...l,value:r||"",onChange:n=>g(t,n.target.value)});case"number":return e.jsx(I,{...l,type:"number",value:r||"",onChange:n=>g(t,n.target.value)});case"boolean":return e.jsx(pe,{...l,checked:r||!1,onCheckedChange:n=>g(t,n)});case"select":return e.jsxs(fe,{value:r||"",onValueChange:n=>g(t,n),disabled:s,children:[e.jsx(ge,{children:e.jsx(ve,{placeholder:"Select an option"})}),e.jsx(be,{children:Object.entries(p.options).map(([n,Q])=>e.jsx(he,{value:n,children:Q},n))})]});case"image":return e.jsx(je,{currentImage:r,onImageChange:n=>g(t,n),disabled:s});default:return null}};return e.jsxs(Y,{children:[e.jsx(X,{title:"Settings"}),e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(S,{variant:"outline",onClick:K,disabled:u||s,children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs("div",{className:"relative",children:[e.jsxs(S,{variant:"outline",onClick:()=>document.getElementById("import-file").click(),disabled:c||s,children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsx("input",{type:"file",id:"import-file",className:"hidden",accept:".json",onChange:q,disabled:c||s})]})]})]}),e.jsx("form",{onSubmit:h,children:e.jsxs(ne,{children:[e.jsxs(ie,{children:[e.jsx(ce,{children:"Manage Settings"}),e.jsx(le,{children:"Configure your application settings. Changes will be applied immediately."})]}),e.jsxs(de,{children:[e.jsxs(Re,{value:i,onValueChange:d,children:[e.jsx(B,{className:"grid grid-cols-6 gap-4 mb-8",children:Object.keys(o).map(t=>e.jsx(H,{value:t,className:"capitalize",children:t},t))}),Object.entries(o).map(([t,p])=>e.jsx(z,{value:t,children:e.jsx("div",{className:"grid gap-6",children:Object.entries(p).map(([r,l])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:r,className:"capitalize",children:r.split("_").join(" ")}),J(r,l)]},r))})},t))]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs(S,{type:"submit",disabled:s,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),s?"Saving...":"Save Changes"]})})]})]})})]})]})}export{mt as default};
