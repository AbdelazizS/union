import{r as v,j as e,v as W,$ as X}from"./app-DN1qyw_4.js";import{L as Y}from"./AdminLayout-CZ0FKSeN.js";import{a as Z,c as ee,b as T}from"./index-BMWwzzsh.js";import{f as _,R as te,I as ae}from"./dropdown-menu-Dup2U6KE.js";import{P as se}from"./index-D7fmTsiv.js";import{P as y,c as N,B as w}from"./index-LX2bqK-N.js";import{u as oe}from"./index-BAOtmrvp.js";import{u as ne}from"./Combination-CFYBKmqt.js";import{C as re,b as ie,c as ce,d as le,a as de}from"./card-B1emr2ze.js";import{I as R}from"./input-DGoI5Joj.js";import{L as ue}from"./label-tZuXtweX.js";import{T as me}from"./textarea-BY2Wfk79.js";import{S as pe}from"./switch-D54_V_9Y.js";import{S as fe,a as ge,b as ve,c as be,d as he}from"./select-FtBAXfob.js";import{I as xe}from"./image-upload-BsLYQDfr.js";import{t as j}from"./index-COa0dWTm.js";import{c as S}from"./createLucideIcon-BpMd3PhH.js";import"./separator-CvwyiO9a.js";import"./sheet-mSlUcbMw.js";import"./index-Be8rxKK8.js";import"./x-w-3jbt9P.js";import"./index-DHYjMWsS.js";import"./index-BbdZmysQ.js";import"./index-RM6Jqcin.js";import"./index-qC52FuWJ.js";import"./calendar-CNUueBHR.js";import"./message-square-2aVn-Bt6.js";import"./circle-help-dDNQ1wQ3.js";import"./file-text-D1ogXrnk.js";import"./chevron-right-DqXEnUok.js";import"./user-CNfi-Wmw.js";import"./check-BX_ytt3u.js";import"./tslib.es6-BUas5LQb.js";import"./index-DN810jkT.js";import"./chevron-down-DHOMMINn.js";import"./index-_Y-GkwGe.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ye=S("download",je);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Te=S("save",Ce);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ne=S("upload",we);var C="Tabs",[Se,mt]=ee(C,[_]),E=_(),[Ie,I]=Se(C),M=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,onValueChange:u,defaultValue:f,orientation:c="horizontal",dir:b,activationMode:x="automatic",...g}=a,m=oe(b),[s,h]=Z({prop:d,onChange:u,defaultProp:f??"",caller:C});return e.jsx(Ie,{scope:i,baseId:ne(),value:s,onValueChange:h,orientation:c,dir:m,activationMode:x,children:e.jsx(y.div,{dir:m,"data-orientation":c,...g,ref:o})})});M.displayName=C;var F="TabsList",k=v.forwardRef((a,o)=>{const{__scopeTabs:i,loop:d=!0,...u}=a,f=I(F,i),c=E(i);return e.jsx(te,{asChild:!0,...c,orientation:f.orientation,dir:f.dir,loop:d,children:e.jsx(y.div,{role:"tablist","aria-orientation":f.orientation,...u,ref:o})})});k.displayName=F;var L="TabsTrigger",P=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,disabled:u=!1,...f}=a,c=I(L,i),b=E(i),x=V(c.baseId,d),g=$(c.baseId,d),m=d===c.value;return e.jsx(ae,{asChild:!0,...b,focusable:!u,active:m,children:e.jsx(y.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":g,"data-state":m?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:x,...f,ref:o,onMouseDown:T(a.onMouseDown,s=>{!u&&s.button===0&&s.ctrlKey===!1?c.onValueChange(d):s.preventDefault()}),onKeyDown:T(a.onKeyDown,s=>{[" ","Enter"].includes(s.key)&&c.onValueChange(d)}),onFocus:T(a.onFocus,()=>{const s=c.activationMode!=="manual";!m&&!u&&s&&c.onValueChange(d)})})})});P.displayName=L;var A="TabsContent",D=v.forwardRef((a,o)=>{const{__scopeTabs:i,value:d,forceMount:u,children:f,...c}=a,b=I(A,i),x=V(b.baseId,d),g=$(b.baseId,d),m=d===b.value,s=v.useRef(m);return v.useEffect(()=>{const h=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(se,{present:u||m,children:({present:h})=>e.jsx(y.div,{"data-state":m?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":x,hidden:!h,id:g,tabIndex:0,...c,ref:o,style:{...a.style,animationDuration:s.current?"0s":void 0},children:h&&f})})});D.displayName=A;function V(a,o){return`${a}-trigger-${o}`}function $(a,o){return`${a}-content-${o}`}var Re=M,O=k,G=P,H=D;const _e=Re,U=v.forwardRef(({className:a,...o},i)=>e.jsx(O,{ref:i,className:N("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...o}));U.displayName=O.displayName;const B=v.forwardRef(({className:a,...o},i)=>e.jsx(G,{ref:i,className:N("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...o}));B.displayName=G.displayName;const z=v.forwardRef(({className:a,...o},i)=>e.jsx(H,{ref:i,className:N("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o}));z.displayName=H.displayName;function pt({settings:a,structure:o}){const[i,d]=v.useState("general"),[u,f]=v.useState(!1),[c,b]=v.useState(!1),{data:x,setData:g,post:m,processing:s}=W(Object.entries(a).reduce((t,[p,n])=>(Object.entries(n).forEach(([l,r])=>{t[l]=r.value}),t),{})),h=t=>{t.preventDefault(),m(route("admin.settings.update"),{onSuccess:()=>{j.success("Settings updated successfully")},onError:p=>{j.error("Failed to update settings"),console.error(p)}})},K=async()=>{f(!0);try{const p=await(await fetch(route("admin.settings.export"))).blob(),n=window.URL.createObjectURL(p),l=document.createElement("a");l.href=n,l.download="settings.json",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),document.body.removeChild(l),j.success("Settings exported successfully")}catch(t){j.error("Failed to export settings"),console.error(t)}finally{f(!1)}},q=async t=>{var l;const p=(l=t.target.files)==null?void 0:l[0];if(!p)return;b(!0);const n=new FormData;n.append("settings",p);try{if(!(await fetch(route("admin.settings.import"),{method:"POST",body:n})).ok)throw new Error("Import failed");j.success("Settings imported successfully"),window.location.reload()}catch(r){j.error("Failed to import settings"),console.error(r)}finally{b(!1)}},J=(t,p)=>{const n=x[t],l={id:t,disabled:s,"aria-label":t.split("_").join(" ")};switch(p.type){case"text":case"email":case"url":return e.jsx(R,{...l,type:p.type,value:n||"",onChange:r=>g(t,r.target.value)});case"textarea":return e.jsx(me,{...l,value:n||"",onChange:r=>g(t,r.target.value)});case"number":return e.jsx(R,{...l,type:"number",value:n||"",onChange:r=>g(t,r.target.value)});case"boolean":return e.jsx(pe,{...l,checked:n||!1,onCheckedChange:r=>g(t,r)});case"select":return e.jsxs(fe,{value:n||"",onValueChange:r=>g(t,r),disabled:s,children:[e.jsx(ge,{children:e.jsx(ve,{placeholder:"Select an option"})}),e.jsx(be,{children:Object.entries(p.options).map(([r,Q])=>e.jsx(he,{value:r,children:Q},r))})]});case"image":return e.jsx(xe,{currentImage:n,onImageChange:r=>g(t,r),disabled:s});default:return null}};return e.jsxs(Y,{children:[e.jsx(X,{title:"Settings"}),e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(w,{variant:"outline",onClick:K,disabled:u||s,children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs("div",{className:"relative",children:[e.jsxs(w,{variant:"outline",onClick:()=>document.getElementById("import-file").click(),disabled:c||s,children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsx("input",{type:"file",id:"import-file",className:"hidden",accept:".json",onChange:q,disabled:c||s})]})]})]}),e.jsx("form",{onSubmit:h,children:e.jsxs(re,{children:[e.jsxs(ie,{children:[e.jsx(ce,{children:"Manage Settings"}),e.jsx(le,{children:"Configure your application settings. Changes will be applied immediately."})]}),e.jsxs(de,{children:[e.jsxs(_e,{value:i,onValueChange:d,children:[e.jsx(U,{className:"grid grid-cols-6 gap-4 mb-8",children:Object.keys(o).map(t=>e.jsx(B,{value:t,className:"capitalize",children:t},t))}),Object.entries(o).map(([t,p])=>e.jsx(z,{value:t,children:e.jsx("div",{className:"grid gap-6",children:Object.entries(p).map(([n,l])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:n,className:"capitalize",children:n.split("_").join(" ")}),J(n,l)]},n))})},t))]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs(w,{type:"submit",disabled:s,children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),s?"Saving...":"Save Changes"]})})]})]})})]})]})}export{pt as default};
