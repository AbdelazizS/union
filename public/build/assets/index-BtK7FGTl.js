import{r as o,q as B,j as e,$ as H,m as l}from"./app-D5zgOKAD.js";import{t as i}from"./index-CDOhrpKr.js";import{B as y}from"./index-C8-8ZKTM.js";import{D as I}from"./data-table-xuiH6-jF.js";import{columns as L}from"./columns-BISyUGum.js";import{L as P}from"./AdminLayout-BQ9sENZH.js";import{D as m,a as R,b as d,c as p,d as h,e as u,f as _}from"./dialog-sDPXERkU.js";import{ServiceCategoryForm as w}from"./ServiceCategoryForm-A8orLU32.js";import{P as q}from"./plus-DHVrmD6B.js";import"./index-BBAzO_4d.js";import"./table-C18x9kzE.js";import"./input-D5FKwQjB.js";import"./select-DgOef9zO.js";import"./index-BSVezLny.js";import"./index-Crc4BVh8.js";import"./Combination-Cmb1a147.js";import"./tslib.es6-CmEaCU22.js";import"./index-BB6OtDRK.js";import"./index-DNxp1Wi1.js";import"./index-BKYgjeKX.js";import"./index-CrEWOBzh.js";import"./chevron-down-CztE_ilu.js";import"./createLucideIcon-AWgR876W.js";import"./check-BhB20Pym.js";import"./dropdown-menu-CixTnASt.js";import"./index-Cuq-Mmvq.js";import"./chevron-right-DKEmXFr0.js";import"./badge-DAUpYQro.js";import"./ellipsis-D87pnp6L.js";import"./pencil-DUvomj0i.js";import"./trash-Dn0Y1l6S.js";import"./separator-ZBq7OQqG.js";import"./sheet-CpllKNoK.js";import"./index-B6dbISNz.js";import"./x-DkObbUL-.js";import"./layers-ai9ES5Yn.js";import"./calendar-CP_I-VWs.js";import"./circle-help-DHWhEvao.js";import"./file-text-CyaKJaEx.js";import"./user-Ch48qi0I.js";import"./form-B0NGfjOj.js";import"./label-BHpa9F8K.js";import"./zod-CTB78kiI.js";import"./index-DWbN24nP.js";import"./textarea-rFmGb7jf.js";import"./switch-CQMIwMOV.js";function He({serviceCategories:D}){const[b,S]=o.useState(!1),[O,g]=o.useState(!1),[N,a]=o.useState(!1),[E,v]=o.useState(!1),[C,x]=o.useState(null),[n,j]=o.useState(null),[c,r]=o.useState(!1),{auth:K}=B().props,f=()=>{l.reload({only:["serviceCategories"]})},F=async t=>{r(!0);try{l.post("/admin/service-categories",t,{onSuccess:()=>{i.success("Service category created successfully"),S(!1),f()},onError:s=>{console.log(s),i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},A=async t=>{r(!0);try{l.put(`/admin/service-categories/${C.id}`,t,{onSuccess:()=>{i.success("Service category updated successfully"),g(!1),x(null),f()},onError:s=>{console.log(s),i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},T=t=>{x(t),g(!0)},$=async t=>{r(!0);try{l.delete(route("admin.service-categories.destroy",t.id),{onSuccess:()=>{i.success("Service category deleted successfully"),a(!1),j(null),f()},onError:s=>{i.error(s.message||"Something went wrong")},onFinish:()=>{r(!1)}})}catch{i.error("Something went wrong"),r(!1)}},V=t=>{j(t),v(!0)},k=t=>{j(t),a(!0)};return e.jsxs(P,{children:[e.jsx(H,{title:"Service Categories"}),e.jsxs("div",{className:"container mx-auto py-10 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Service Categories"}),e.jsxs(m,{open:b,onOpenChange:S,children:[e.jsx(R,{asChild:!0,children:e.jsxs(y,{children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Add New Category"}),e.jsx(u,{children:"Fill in the details to create a new service category."})]}),e.jsx(w,{initialData:null,onSubmit:F,isSubmitting:c})]})]}),e.jsx(m,{open:O,onOpenChange:t=>{t||x(null),g(t)},children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Edit Category"}),e.jsx(u,{children:"Update the details of this service category."})]}),e.jsx(w,{initialData:C,onSubmit:A,isSubmitting:c})]})})]}),e.jsx(I,{columns:L(T,k,V),data:D,searchKey:"name"}),e.jsx(m,{open:N,onOpenChange:a,children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Delete Category"}),e.jsx(u,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),e.jsxs(_,{children:[e.jsx(y,{variant:"outline",onClick:()=>a(!1),disabled:c,children:"Cancel"}),e.jsx(y,{variant:"destructive",onClick:()=>$(n),disabled:c,children:"Delete"})]})]})}),e.jsx(m,{open:E,onOpenChange:v,children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Category Details"}),e.jsx(u,{children:"View the complete information about this service category."})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Name"}),e.jsx("p",{children:n.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Hourly Rate"}),e.jsxs("p",{children:["$",Number(n.hourly_rate).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Status"}),e.jsx("p",{children:n.is_active?"Active":"Inactive"})]})]})]})})]})]})}export{He as default};
