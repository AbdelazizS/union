import{r as u,j as e}from"./app-D5zgOKAD.js";import{o as f,s as n,b as w,a as I}from"./index-DWbN24nP.js";import{B as d}from"./index-C8-8ZKTM.js";import{F as T,a as l,b as o,c as i,d as c,e as p}from"./form-B0NGfjOj.js";import{I as g}from"./input-D5FKwQjB.js";import{T as V}from"./textarea-rFmGb7jf.js";import{S as k,a as E,b as P,c as _,d as B}from"./select-DgOef9zO.js";import{S as R}from"./switch-CQMIwMOV.js";import{I as z}from"./image-upload-DB-EMDCR.js";import{P as A}from"./plus-DHVrmD6B.js";import{X as D}from"./x-DkObbUL-.js";import"./index-BBAzO_4d.js";import"./label-BHpa9F8K.js";import"./index-BSVezLny.js";import"./index-Crc4BVh8.js";import"./Combination-Cmb1a147.js";import"./tslib.es6-CmEaCU22.js";import"./index-BB6OtDRK.js";import"./index-DNxp1Wi1.js";import"./index-BKYgjeKX.js";import"./index-CrEWOBzh.js";import"./chevron-down-CztE_ilu.js";import"./createLucideIcon-AWgR876W.js";import"./check-BhB20Pym.js";import"./index-D8untdAM.js";f({name:n().min(2,"Name must be at least 2 characters"),category_id:n().min(1,"Please select a category"),description:n().min(10,"Description must be at least 10 characters"),features:I(n()).optional(),is_active:w().default(!0),image:n().optional()});const me=({form:r,onSubmit:v,isSubmitting:x,categories:y})=>{const[m,h]=u.useState(r.getValues("features")||[""]),[b,j]=u.useState(r.getValues("image")),S=()=>{h([...m,""])},F=s=>{h(m.filter((t,a)=>a!==s))},C=(s,t)=>{const a=[...m];a[s]=t,h(a),r.setValue("features",a.filter(Boolean))},N=s=>{r.setValue("image",s),j(s)};return e.jsx(T,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(v),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{control:r.control,name:"name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:"Name"}),e.jsx(c,{children:e.jsx(g,{placeholder:"Enter service name",...s})}),e.jsx(p,{})]})}),e.jsx(l,{control:r.control,name:"category_id",render:({field:s})=>{var t;return e.jsxs(o,{children:[e.jsx(i,{children:"Category"}),e.jsxs(k,{onValueChange:a=>s.onChange(a),value:(t=s.value)==null?void 0:t.toString(),disabled:x,children:[e.jsx(c,{children:e.jsx(E,{children:e.jsx(P,{placeholder:"Select a category"})})}),e.jsx(_,{children:y.map(a=>e.jsx(B,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx(p,{})]})}})]}),e.jsx(l,{control:r.control,name:"description",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:"Description"}),e.jsx(c,{children:e.jsx(V,{placeholder:"Enter service description",className:"min-h-[100px]",...s})}),e.jsx(p,{})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Features"}),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:S,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]}),e.jsx("div",{className:"space-y-2",children:m.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{value:s,onChange:a=>C(t,a.target.value),placeholder:`Feature ${t+1}`}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",onClick:()=>F(t),children:e.jsx(D,{className:"h-4 w-4"})})]},t))})]}),e.jsx(l,{control:r.control,name:"image",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{children:"Service Image"}),e.jsx(c,{children:e.jsx(z,{value:b,onChange:N,onRemove:()=>{j(null),s.onChange(null)}})}),e.jsx(p,{})]})}),e.jsx(l,{control:r.control,name:"is_active",render:({field:s})=>e.jsxs(o,{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Active Status"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Enable or disable this service"})]}),e.jsx(c,{children:e.jsx(R,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>r.reset(),children:"Reset"}),e.jsx(d,{type:"submit",disabled:x,children:x?"Saving...":"Save Changes"})]})]})})};export{me as ServiceForm};
