import{v as d,j as r,$ as c}from"./app-D5zgOKAD.js";import{BookingForm as l}from"./BookingForm-D2PzcApg.js";import{L as g}from"./AdminLayout-BQ9sENZH.js";import{P as i}from"./index-D8untdAM.js";import"./form-B0NGfjOj.js";import"./index-C8-8ZKTM.js";import"./index-BBAzO_4d.js";import"./label-BHpa9F8K.js";import"./zod-CTB78kiI.js";import"./index-DWbN24nP.js";import"./index-CDOhrpKr.js";import"./popover-CYbGzW0S.js";import"./format-SmSpYad1.js";import"./chevron-right-DKEmXFr0.js";import"./createLucideIcon-AWgR876W.js";import"./chevron-left-AmoEll6X.js";import"./index-BSVezLny.js";import"./Combination-Cmb1a147.js";import"./tslib.es6-CmEaCU22.js";import"./index-BB6OtDRK.js";import"./index-DNxp1Wi1.js";import"./index-Cuq-Mmvq.js";import"./input-D5FKwQjB.js";import"./select-DgOef9zO.js";import"./index-Crc4BVh8.js";import"./index-BKYgjeKX.js";import"./index-CrEWOBzh.js";import"./chevron-down-CztE_ilu.js";import"./check-BhB20Pym.js";import"./textarea-rFmGb7jf.js";import"./card-BKGLJ8p-.js";import"./separator-ZBq7OQqG.js";import"./checkbox-Dba-AV0K.js";import"./calendar-CP_I-VWs.js";import"./sheet-CpllKNoK.js";import"./index-B6dbISNz.js";import"./x-DkObbUL-.js";import"./layers-ai9ES5Yn.js";import"./circle-help-DHWhEvao.js";import"./file-text-CyaKJaEx.js";import"./dropdown-menu-CixTnASt.js";import"./user-Ch48qi0I.js";function _({booking:e,services:o}){var s;const{put:m,processing:n}=d(),p=t=>{console.log("Submitting booking data:",t),m(route("admin.bookings.update",e.id),t,{onSuccess:()=>{console.log("Booking updated successfully")},onError:a=>{console.error("Booking update failed:",a)}})},u=e?{service_id:e.service_id.toString(),selected_options:((s=e.service_options)==null?void 0:s.map(t=>({option_id:t.service_option_id.toString(),quantity:t.quantity||1})))||[],booking_date:e.booking_date,booking_time:e.booking_time,customer_name:e.customer_name,customer_email:e.customer_email,customer_phone:e.customer_phone,customer_address:e.customer_address,notes:e.notes||"",status:e.status}:null;return r.jsxs(g,{children:[r.jsx(c,{title:"Edit Booking"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Edit Booking"}),r.jsx("p",{className:"text-muted-foreground",children:"Update booking details"})]}),r.jsx("div",{className:"mt-8 p-4",children:r.jsx(l,{services:o||[],onSubmit:p,isSubmitting:n,initialData:u})})]})}_.propTypes={booking:i.shape({id:i.oneOfType([i.string,i.number]).isRequired,service_id:i.oneOfType([i.string,i.number]).isRequired,service_options:i.arrayOf(i.shape({service_option_id:i.oneOfType([i.string,i.number]).isRequired,quantity:i.number})),booking_date:i.string.isRequired,booking_time:i.string.isRequired,customer_name:i.string.isRequired,customer_email:i.string.isRequired,customer_phone:i.string.isRequired,customer_address:i.string.isRequired,notes:i.string,status:i.string.isRequired}).isRequired,services:i.arrayOf(i.shape({id:i.oneOfType([i.string,i.number]).isRequired,name:i.string.isRequired,category:i.shape({id:i.oneOfType([i.string,i.number]).isRequired,name:i.string.isRequired}),options:i.arrayOf(i.shape({id:i.oneOfType([i.string,i.number]).isRequired,label:i.string.isRequired,price:i.number.isRequired,min_qty:i.number,max_qty:i.number,is_variable:i.bool,note:i.string,is_active:i.bool}))})).isRequired};export{_ as default};
