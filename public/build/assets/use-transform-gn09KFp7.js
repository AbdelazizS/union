import{i as p,u as l,a as d,b as h,c as y,f as C,d as V,e as a}from"./WebsiteLayout-BMKIC0Sg.js";import{r as c}from"./app-DN1qyw_4.js";function x(...t){const e=!Array.isArray(t[0]),n=e?0:-1,o=t[0+n],s=t[1+n],r=t[2+n],u=t[3+n],f=p(s,r,u);return e?f(o):f}function A(t){const e=l(()=>d(t)),{isStatic:n}=c.useContext(h);if(n){const[,o]=c.useState(t);c.useEffect(()=>e.on("change",o),[])}return e}function m(t,e){const n=A(e()),o=()=>n.set(e());return o(),y(()=>{const s=()=>C.preRender(o,!1,!0),r=t.map(u=>u.on("change",s));return()=>{r.forEach(u=>u()),V(o)}}),n}function E(t){a.current=[],t();const e=m(a.current,t);return a.current=void 0,e}function L(t,e,n,o){if(typeof t=="function")return E(t);const s=typeof e=="function"?e:x(e,n,o);return Array.isArray(t)?i(t,s):i([t],([r])=>s(r))}function i(t,e){const n=l(()=>[]);return m(t,()=>{n.length=0;const o=t.length;for(let s=0;s<o;s++)n[s]=t[s].get();return e(n)})}export{A as a,L as u};
