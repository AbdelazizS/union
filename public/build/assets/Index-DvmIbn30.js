import{r as g,j as o,$ as f,m as r}from"./app-DN1qyw_4.js";import{t as n}from"./index-COa0dWTm.js";import{B as j}from"./index-LX2bqK-N.js";import{D as v}from"./data-table-lNLW6wDK.js";import{I as k}from"./input-DGoI5Joj.js";import{S,a as y,b,c as C,d as i}from"./select-FtBAXfob.js";import{D as B}from"./date-range-picker-D00AoBHC.js";import{statuses as w,columns as N}from"./columns-DBak9c-k.js";import{L as D}from"./AdminLayout-CZ0FKSeN.js";import{P as _}from"./plus-Bp36QGIZ.js";import{f as l}from"./format-SmSpYad1.js";import"./index-BbdZmysQ.js";import"./table-BzJnXkzV.js";import"./chevron-down-DHOMMINn.js";import"./createLucideIcon-BpMd3PhH.js";import"./index-BMWwzzsh.js";import"./index-BAOtmrvp.js";import"./Combination-CFYBKmqt.js";import"./tslib.es6-BUas5LQb.js";import"./index-DHYjMWsS.js";import"./index-RM6Jqcin.js";import"./index-DN810jkT.js";import"./index-qC52FuWJ.js";import"./check-BX_ytt3u.js";import"./popover-BBU7GkUU.js";import"./chevron-right-DqXEnUok.js";import"./chevron-left-CW_H48r7.js";import"./index-D7fmTsiv.js";import"./calendar-CNUueBHR.js";import"./badge-uQ6I-SGo.js";import"./checkbox-C4ohtfoL.js";import"./dropdown-menu-Dup2U6KE.js";import"./arrow-up-BKb0X6mE.js";import"./eye-off-CTb4IjH1.js";import"./ellipsis-BM26qcpv.js";import"./separator-CvwyiO9a.js";import"./sheet-mSlUcbMw.js";import"./index-Be8rxKK8.js";import"./x-w-3jbt9P.js";import"./message-square-2aVn-Bt6.js";import"./circle-help-dDNQ1wQ3.js";import"./file-text-D1ogXrnk.js";import"./user-CNfi-Wmw.js";function be({bookings:m,filters:t}){const[c,p]=g.useState({from:t.date_from?new Date(t.date_from):void 0,to:t.date_to?new Date(t.date_to):void 0}),d=e=>{p(e),r.get(route("admin.bookings.index"),{...t,date_from:e.from?l(e.from,"yyyy-MM-dd"):null,date_to:e.to?l(e.to,"yyyy-MM-dd"):null},{preserveState:!0,preserveScroll:!0})},u=e=>{r.get(route("admin.bookings.index"),{...t,search:e},{preserveState:!0,preserveScroll:!0})},x=e=>{r.get(route("admin.bookings.index"),{...t,status:e==="all"?null:e},{preserveState:!0,preserveScroll:!0})},s=async(e,a)=>{try{await r.post(route(`admin.bookings.${a}`,e),null,{onSuccess:()=>{n.success(`Booking ${a}ed successfully`)},onError:()=>{n.error(`Failed to ${a} booking`)},preserveScroll:!0})}catch{n.error(`An error occurred while ${a}ing the booking`)}},h=N({onConfirm:e=>s(e,"confirm"),onComplete:e=>s(e,"complete"),onCancel:e=>s(e,"cancel")});return o.jsxs(D,{children:[o.jsx(f,{title:"Bookings"}),o.jsxs("div",{className:"p-4 flex items-center justify-between space-y-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Bookings"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage and track all cleaning service bookings"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs(j,{onClick:()=>r.visit(route("admin.bookings.create")),children:[o.jsx(_,{className:"mr-2 h-4 w-4"})," New Booking"]})})]}),o.jsx("div",{className:"p-4 my-4 flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0 md:space-x-4",children:o.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[o.jsx(k,{placeholder:"Search bookings...",className:"max-w-[300px]",value:t.search||"",onChange:e=>u(e.target.value)}),o.jsxs(S,{value:t.status||"all",onValueChange:x,children:[o.jsx(y,{className:"w-[180px]",children:o.jsx(b,{placeholder:"Filter by status"})}),o.jsxs(C,{children:[o.jsx(i,{value:"all",children:"All Statuses"}),w.map(e=>o.jsx(i,{value:e.value,children:e.label},e.value))]})]}),o.jsx(B,{value:c,onChange:d})]})}),o.jsx("div",{className:"p-4",children:o.jsx(v,{data:m,columns:h,defaultPageSize:10,pageSizeOptions:[10,20,30,40,50]})})]})}export{be as default};
